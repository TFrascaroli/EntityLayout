{"version":3,"sources":["entitylayout.min.js"],"names":["f","exports","module","define","amd","window","global","self","this","entitylayout","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","Object","defineProperty","value","layoutrow_1","entitylayoutinlinecss_1","EntityLayout","maxColumns","availableEntities","rows","currentColumn","numberColumns","div","document","createElement","className","div_container","appendChild","add_row_btn","addEventListener","addRow","popup","classList","add","popupLayer","remove","popupContent","popupWraper","popupSelectArea","body","prototype","getUsedEntities","col","ents","forEach","columns","c","ent","getEntity","push","openPopup","_this","usedEnts","filter","indexOf","innerHTML","popupOption","textContent","deleteEntity","id","setEntity","addEntities","getColumn","some","LayoutRow","render","div_rows","style","type","innerText","inlineCss","width","padding","backgroundColor","outerHTML","serializer","map","reset","removeChild","clear","parser","object","row","getEntities","getNumberColumns","assignEntity","getUI","./entitylayoutinlinecss","./layoutrow","2","3","LayoutColumn","el","div_content","dim","div_dim","max","min","rawVal","parseInt","val","toString","flex","evt","target","remove_column_btn","parentElement","getElementsByClassName","splice","destroy","div_rep","div_inner","afterRender","Function","colprop","entID","setDim","4","layoutcolumn_1","div_addColumn_btn","childrensRows","children","count","addColumn","remove_row_btn","Array","div_row","./layoutcolumn"],"mappings":"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","file":"entitylayout.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.entitylayout = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar layoutrow_1 = require(\"./layoutrow\");\nvar entitylayoutinlinecss_1 = require(\"./entitylayoutinlinecss\");\nvar EntityLayout = (function () {\n    function EntityLayout(maxColumns) {\n        var self = this;\n        this.availableEntities = [];\n        this.rows = [];\n        this.currentColumn = null;\n        this.numberColumns = maxColumns;\n        this.div = document.createElement(\"div\");\n        this.div.className = \"entity-layout\";\n        this.div_container = document.createElement(\"div\");\n        this.div_container.className = \"content-rows\";\n        this.div.appendChild(this.div_container);\n        // Button Add rows\n        var add_row_btn = document.createElement(\"div\");\n        add_row_btn.className = \"button-add-row\";\n        add_row_btn.addEventListener(\"click\", function () {\n            self.addRow();\n        });\n        this.div_container.appendChild(add_row_btn);\n        this.popup = document.createElement(\"div\");\n        this.popup.classList.add(\"EL-popup\");\n        var popupLayer = document.createElement(\"div\");\n        popupLayer.classList.add(\"layer\");\n        popupLayer.addEventListener(\"click\", function () {\n            self.popup.classList.remove(\"visible\");\n        });\n        var popupContent = document.createElement(\"div\");\n        popupContent.classList.add(\"content\");\n        var popupWraper = document.createElement(\"div\");\n        popupWraper.classList.add(\"wraper\");\n        var popupSelectArea = document.createElement(\"div\");\n        popupSelectArea.classList.add(\"selectArea\");\n        this.popupSelectArea = popupSelectArea;\n        this.popup.appendChild(popupLayer);\n        this.popup.appendChild(popupWraper);\n        popupWraper.appendChild(popupContent);\n        popupContent.appendChild(this.popupSelectArea);\n        document.body.appendChild(this.popup);\n    }\n    EntityLayout.prototype.getUsedEntities = function (col) {\n        var ents = [];\n        this.rows.forEach(function (r) {\n            r.columns.forEach(function (c) {\n                var ent = c.getEntity();\n                if (ent !== null && c !== col)\n                    ents.push(ent);\n            });\n        });\n        return ents;\n    };\n    EntityLayout.prototype.openPopup = function (col) {\n        var _this = this;\n        var self = this;\n        this.currentColumn = col;\n        var usedEnts = this.getUsedEntities(this.currentColumn);\n        var ents = this.availableEntities.filter(function (e) {\n            return usedEnts.indexOf(e) === -1;\n        });\n        this.popupSelectArea.innerHTML = \"\";\n        var popupOption = document.createElement(\"div\");\n        popupOption.className = \"options-entity\";\n        popupOption.textContent = \"Delete entity...\";\n        popupOption.classList.add(\"delete\");\n        popupOption.addEventListener(\"click\", function () {\n            self.currentColumn.deleteEntity();\n            self.popup.classList.remove(\"visible\");\n        });\n        this.popupSelectArea.appendChild(popupOption);\n        ents.forEach(function (ent) {\n            var popupOption = document.createElement(\"div\");\n            popupOption.className = \"options-entity\";\n            popupOption.textContent = ent.id;\n            popupOption.addEventListener(\"click\", function () {\n                if (self.currentColumn !== null) {\n                    self.currentColumn.setEntity(ent);\n                }\n                self.popup.classList.remove(\"visible\");\n            });\n            _this.popupSelectArea.appendChild(popupOption);\n        });\n        this.popup.classList.add(\"visible\");\n    };\n    EntityLayout.prototype.addEntities = function (ents) {\n        this.rows.forEach(function (r) {\n            var columns = r.getColumn();\n            columns.forEach(function (c) {\n                if (c.getEntity()) {\n                    var found = ents.some(function (ent) {\n                        return c.getEntity().id === ent.id;\n                    });\n                    if (!found) {\n                        c.deleteEntity();\n                    }\n                }\n            });\n        });\n        var self = this;\n        self.availableEntities = ents;\n    };\n    EntityLayout.prototype.addRow = function () {\n        var r = new layoutrow_1.LayoutRow(this);\n        this.rows.push(r);\n        this.div_container.appendChild(r.div);\n        return r;\n    };\n    EntityLayout.prototype.render = function () {\n        var div_rows = document.createElement(\"div\");\n        var style = document.createElement(\"style\");\n        style.type = \"text/css\";\n        style.innerText = entitylayoutinlinecss_1.inlineCss;\n        div_rows.style.width = \"21cm\";\n        div_rows.style.padding = \"1cm\";\n        div_rows.style.backgroundColor = \"#bebebe\";\n        this.rows.forEach(function (r) {\n            div_rows.appendChild(r.render());\n        });\n        return style.outerHTML + div_rows.outerHTML;\n    };\n    ;\n    EntityLayout.prototype.serializer = function () {\n        return {\n            rows: this.rows.map(function (r) {\n                return r.serializer();\n            })\n        };\n    };\n    EntityLayout.prototype.reset = function () {\n        var self = this;\n        this.rows.forEach(function (r) {\n            self.div_container.removeChild(r.div);\n            r.clear();\n        });\n        this.rows = [];\n    };\n    EntityLayout.prototype.clear = function () {\n        this.reset();\n        this.availableEntities = [];\n        this.addRow();\n    };\n    EntityLayout.prototype.parser = function (object) {\n        var _this = this;\n        this.reset();\n        this.rows = object.rows.map(function (r) {\n            var row = new layoutrow_1.LayoutRow(_this);\n            row.clear();\n            row.parser(r);\n            _this.div_container.appendChild(row.div);\n            return row;\n        });\n    };\n    EntityLayout.prototype.getEntities = function () {\n        return this.availableEntities;\n    };\n    EntityLayout.prototype.getNumberColumns = function () {\n        return this.numberColumns;\n    };\n    EntityLayout.prototype.assignEntity = function (id, col) {\n        if (id) {\n            var ent = this.availableEntities.filter(function (e) { return e.id === id; })[0];\n            col.setEntity(ent);\n        }\n    };\n    EntityLayout.prototype.getUI = function () {\n        return this.div;\n    };\n    return EntityLayout;\n}());\nexports.EntityLayout = EntityLayout;\n\n},{\"./entitylayoutinlinecss\":2,\"./layoutrow\":4}],2:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inlineCss = \".flexRoot{width:calc(100% + 16px);height:calc(100% + 16px);background-color:#dedede}.columnParent,.rowParent{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-line-pack:stretch;align-content:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;max-height:100%;max-width:100%}.columnParent{-webkit-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.flexChild{-ms-flex-item-align:auto;align-self:auto;position:relative!important;bottom:auto!important;top:auto!important;overflow:hidden}.sledge-hammer-inner{position:absolute}.button_export{width:20px;height:20px}\";\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LayoutColumn = (function () {\n    function LayoutColumn(el, row) {\n        var self = this;\n        this.row = row;\n        this.ent = null;\n        this.div = document.createElement(\"div\");\n        this.div_content = document.createElement(\"div\");\n        this.div_content.className = \"content-column\";\n        this.div.appendChild(this.div_content);\n        this.dim = 1;\n        // Dimensions flex\n        var div_dim = document.createElement(\"input\");\n        div_dim.className = \"dim-col\";\n        div_dim.type = \"number\";\n        div_dim.max = \"5\";\n        div_dim.min = \"1\";\n        div_dim.value = \"1\";\n        div_dim.addEventListener(\"change\", function () {\n            var rawVal = parseInt(div_dim.value, 10), val = (10 + rawVal).toString();\n            self.dim = rawVal;\n            self.div.style.flex = val + \" \" + val + \" auto\";\n        });\n        this.div.appendChild(div_dim);\n        this.div.className = \"column\";\n        this.el = el;\n        this.div.addEventListener(\"click\", function (evt) {\n            if (evt.target !== self.div)\n                return;\n            self.el.openPopup(self);\n        });\n        // Button Delete Columns\n        var remove_column_btn = document.createElement(\"div\");\n        remove_column_btn.className = \"button-remove-column\";\n        remove_column_btn.addEventListener(\"click\", function () {\n            var row_div = self.div.parentElement;\n            var element = row_div.getElementsByClassName(\"column\");\n            if (element.length > 1) {\n                if (self.getEntity()) {\n                    var ent = self.getEntity();\n                    el.getEntities().push(ent);\n                }\n                self.div.remove();\n                remove_column_btn.remove();\n                self.row.columns.splice(self.row.columns.indexOf(self), 1);\n            }\n        });\n        this.div.appendChild(remove_column_btn);\n    }\n    LayoutColumn.prototype.destroy = function () {\n        this.div = null;\n    };\n    LayoutColumn.prototype.getEntity = function () {\n        return this.ent;\n    };\n    LayoutColumn.prototype.deleteEntity = function () {\n        this.ent = null;\n        this.div_content.textContent = \"\";\n        // this.div.textContent = \"\";\n    };\n    LayoutColumn.prototype.setEntity = function (ent) {\n        var self = this;\n        if (ent) {\n            this.ent = ent;\n            self.div_content.textContent = ent.id.toString();\n        }\n    };\n    LayoutColumn.prototype.render = function () {\n        var div_rep = document.createElement(\"div\");\n        var div_inner = document.createElement(\"div\");\n        div_inner.classList.add(\"entity-layout-inner\");\n        div_rep.className = \"flexChild entity-layout-child\";\n        div_rep.appendChild(div_inner);\n        if (this.ent) {\n            div_inner.appendChild(this.ent.render());\n        }\n        div_rep.style.flex = this.dim.toString() + \" \" + this.dim.toString() + \" \" + \"auto\";\n        if (this.el.afterRender instanceof Function)\n            this.el.afterRender(\"column\", div_rep);\n        return div_rep;\n    };\n    ;\n    LayoutColumn.prototype.serializer = function () {\n        var colprop = {\n            entID: null,\n            dim: this.dim\n        };\n        if (this.ent) {\n            colprop.entID = this.ent.id;\n        }\n        return colprop;\n    };\n    LayoutColumn.prototype.clear = function () {\n        this.ent = null;\n    };\n    LayoutColumn.prototype.setDim = function (dim) {\n        this.dim = dim;\n        this.div.style.flex = dim + \" \" + dim + \"auto\";\n    };\n    LayoutColumn.prototype.parser = function (object) {\n        this.setDim(object.dim);\n        this.el.assignEntity(object.entID, this);\n    };\n    return LayoutColumn;\n}());\nexports.LayoutColumn = LayoutColumn;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar layoutcolumn_1 = require(\"./layoutcolumn\");\nvar LayoutRow = (function () {\n    function LayoutRow(el) {\n        var self = this;\n        this.div = document.createElement(\"div\");\n        this.div.className = \"row\";\n        // Button Add Columns\n        var div_addColumn_btn = document.createElement(\"div\");\n        div_addColumn_btn.className = \"button-add-column\";\n        div_addColumn_btn.addEventListener(\"click\", function () {\n            var childrensRows = self.div.children;\n            var count = 0;\n            for (var i = 0; i < childrensRows.length; i++) {\n                if (childrensRows[i].className === \"column\") {\n                    count += 1;\n                }\n            }\n            if (count < el.getNumberColumns()) {\n                self.addColumn();\n            }\n        });\n        this.div.appendChild(div_addColumn_btn);\n        // Button Delete rows\n        var remove_row_btn = document.createElement(\"div\");\n        remove_row_btn.className = \"button-remove-row\";\n        remove_row_btn.addEventListener(\"click\", function () {\n            var columns = self.getColumn();\n            self.div.remove();\n            self.el.rows.splice(self.el.rows.indexOf(self), 1);\n            remove_row_btn.remove();\n            if (self.el.rows.length === 0)\n                self.el.addRow();\n        });\n        this.div.appendChild(remove_row_btn);\n        this.columns = new Array();\n        this.el = el;\n        // Per defecte tenim una columna\n        this.addColumn();\n    }\n    LayoutRow.prototype.getColumn = function () {\n        return this.columns;\n    };\n    LayoutRow.prototype.addColumn = function () {\n        var c = new layoutcolumn_1.LayoutColumn(this.el, this);\n        this.columns.push(c);\n        this.div.appendChild(c.div);\n        return c;\n    };\n    LayoutRow.prototype.destroy = function () {\n        var self = this;\n        this.columns.forEach(function (c) {\n            self.div.removeChild(c.div);\n            c.destroy();\n        });\n        this.columns = [];\n    };\n    LayoutRow.prototype.render = function () {\n        var div_row = document.createElement(\"div\");\n        div_row.className = \"flexRoot rowParent flexChild\";\n        this.columns.forEach(function (c) {\n            div_row.appendChild(c.render());\n        });\n        if (this.el.afterRender instanceof Function)\n            this.el.afterRender(\"row\", div_row);\n        return div_row;\n    };\n    ;\n    LayoutRow.prototype.clear = function () {\n        var self = this;\n        this.columns.forEach(function (c) {\n            self.div.removeChild(c.div);\n            c.clear();\n        });\n        this.columns = [];\n    };\n    LayoutRow.prototype.serializer = function () {\n        return {\n            columns: this.columns.map(function (c) {\n                return c.serializer();\n            })\n        };\n    };\n    LayoutRow.prototype.parser = function (object) {\n        var _this = this;\n        this.columns = object.columns.map(function (c) {\n            var col = new layoutcolumn_1.LayoutColumn(_this.el, _this);\n            col.parser(c);\n            _this.div.appendChild(col.div);\n            return col;\n        });\n    };\n    return LayoutRow;\n}());\nexports.LayoutRow = LayoutRow;\n\n},{\"./layoutcolumn\":3}]},{},[1])(1)\n});"]}