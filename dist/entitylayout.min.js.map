{"version":3,"sources":["entitylayout.min.js"],"names":["f","exports","module","define","amd","window","global","self","this","entitylayout","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","Object","defineProperty","value","layoutRow_1","EntityLayout","numberColumns","availableEntities","copyAvailableEntities","rows","currentColumn","div","document","createElement","className","div_container","appendChild","add_row_btn","addEventListener","addRow","popup","classList","add","popupLayer","remove","popupContent","popupWraper","popupSelectArea","body","prototype","openPopup","col","_this","getEntity","ent","push","innerHTML","popupOption","textContent","deleteEntity","forEach","id","setEntity","splice","indexOf","addEntities","ents","getColumn","c","some","LayoutRow","clear","render","div_rows","style","width","padding","backgroundColor","outerHTML","serializer","map","parser","object","row","getEntities","getNumberColumns","get_entity","./layoutRow","2","LayoutColumn","el","div_content","div_dim","type","max","min","rawVal","parseInt","val","toString","dim","flex","evt","target","remove_column_btn","parentElement","getElementsByClassName","destroy","div_rep","div_inner","colprop","entID","setDim","filter","3","layoutColumn_1","div_addColumn_btn","childrensRows","children","count","addColumn","remove_row_btn","columns","Array","removeChild","div_row","./layoutColumn"],"mappings":"CAAA,SAAUA,GAAG,GAAoB,iBAAVC,SAAoC,oBAATC,OAAsBA,OAAOD,QAAQD,SAAS,GAAmB,mBAATG,QAAqBA,OAAOC,IAAKD,UAAUH,OAAO,EAA0B,oBAATK,OAAwBA,OAA+B,oBAATC,OAAwBA,OAA6B,oBAAPC,KAAsBA,KAAYC,MAAOC,aAAeT,MAAO,WAAqC,OAAO,SAAUU,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIf,EAAE,IAAIoB,MAAM,uBAAuBL,EAAE,KAAK,MAAMf,EAAEqB,KAAK,mBAAmBrB,EAAE,IAAIsB,EAAEV,EAAEG,IAAId,YAAYU,EAAEI,GAAG,GAAGQ,KAAKD,EAAErB,QAAQ,SAASS,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIY,EAAEA,EAAErB,QAAQS,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGd,QAAkD,IAAI,IAA1CkB,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,IAAI,OAAOD,IAAKW,GAAG,SAASP,EAAQhB,EAAOD,GAC30B,aACAyB,OAAOC,eAAe1B,EAAS,cAAgB2B,OAAO,IACtD,IAAIC,EAAcX,EAAQ,eACtBY,EAAgB,WAChB,SAASA,EAAaC,GAClB,IAAIxB,EAAOC,KACXA,KAAKwB,qBACLxB,KAAKyB,yBACLzB,KAAK0B,QACL1B,KAAK2B,cAAgB,KACrB3B,KAAKuB,cAAgBA,EACrBvB,KAAK4B,IAAMC,SAASC,cAAc,OAClC9B,KAAK4B,IAAIG,UAAY,gBACrB/B,KAAKgC,cAAgBH,SAASC,cAAc,OAC5C9B,KAAKgC,cAAcD,UAAY,eAC/B/B,KAAK4B,IAAIK,YAAYjC,KAAKgC,eAE1B,IAAIE,EAAcL,SAASC,cAAc,OACzCI,EAAYH,UAAY,iBACxBG,EAAYC,iBAAiB,QAAS,WAClCpC,EAAKqC,WAETpC,KAAKgC,cAAcC,YAAYC,GAC/BlC,KAAKqC,MAAQR,SAASC,cAAc,OACpC9B,KAAKqC,MAAMC,UAAUC,IAAI,YACzB,IAAIC,EAAaX,SAASC,cAAc,OACxCU,EAAWF,UAAUC,IAAI,SACzBC,EAAWL,iBAAiB,QAAS,WACjCpC,EAAKsC,MAAMC,UAAUG,OAAO,aAEhC,IAAIC,EAAeb,SAASC,cAAc,OAC1CY,EAAaJ,UAAUC,IAAI,WAC3B,IAAII,EAAcd,SAASC,cAAc,OACzCa,EAAYL,UAAUC,IAAI,UAC1B,IAAIK,EAAkBf,SAASC,cAAc,OAC7Cc,EAAgBN,UAAUC,IAAI,cAC9BvC,KAAK4C,gBAAkBA,EACvB5C,KAAKqC,MAAMJ,YAAYO,GACvBxC,KAAKqC,MAAMJ,YAAYU,GACvBA,EAAYV,YAAYS,GACxBA,EAAaT,YAAYjC,KAAK4C,iBAC9Bf,SAASgB,KAAKZ,YAAYjC,KAAKqC,OAmGnC,OAjGAf,EAAawB,UAAUC,UAAY,SAAUC,GACzC,IAAIC,EAAQjD,KACRD,EAAOC,KAEX,GADAA,KAAK2B,cAAgBqB,EACjBhD,KAAK2B,cAAcuB,YAAa,CAChC,IAAIC,EAAMnD,KAAK2B,cAAcuB,YAC7BlD,KAAKwB,kBAAkB4B,KAAKD,GAEhCnD,KAAK4C,gBAAgBS,UAAY,GACjC,IAAIC,EAAczB,SAASC,cAAc,OACzCwB,EAAYvB,UAAY,iBACxBuB,EAAYC,YAAc,mBAC1BD,EAAYhB,UAAUC,IAAI,UAC1Be,EAAYnB,iBAAiB,QAAS,WAClCpC,EAAK4B,cAAc6B,eACnBzD,EAAKsC,MAAMC,UAAUG,OAAO,aAEhCzC,KAAK4C,gBAAgBX,YAAYqB,GACjCtD,KAAKwB,kBAAkBiC,QAAQ,SAAUN,GACrC,IAAIG,EAAczB,SAASC,cAAc,OACzCwB,EAAYvB,UAAY,iBACxBuB,EAAYC,YAAcJ,EAAIO,GAC9BJ,EAAYnB,iBAAiB,QAAS,WACP,OAAvBpC,EAAK4B,gBACL5B,EAAK4B,cAAcgC,UAAUR,GAC7BpD,EAAK0B,sBAAsB2B,KAAKD,GAChCpD,EAAKyB,kBAAkBoC,OAAO7D,EAAKyB,kBAAkBqC,QAAQV,GAAM,IAEvEpD,EAAKsC,MAAMC,UAAUG,OAAO,aAEhCQ,EAAML,gBAAgBX,YAAYqB,KAEtCtD,KAAKqC,MAAMC,UAAUC,IAAI,YAE7BjB,EAAawB,UAAUgB,YAAc,SAAUC,GAC3C/D,KAAK0B,KAAK+B,QAAQ,SAAUpD,GACVA,EAAE2D,YACRP,QAAQ,SAAUQ,GAClBA,EAAEf,cACUa,EAAKG,KAAK,SAAUf,GAC5B,OAAOc,EAAEf,YAAYQ,KAAOP,EAAIO,MAGhCO,EAAET,oBAKPxD,KACNwB,kBAAoBuC,GAE7BzC,EAAawB,UAAUV,OAAS,WAC5B,IAAI/B,EAAI,IAAIgB,EAAY8C,UAAUnE,MAGlC,OAFAA,KAAK0B,KAAK0B,KAAK/C,GACfL,KAAKgC,cAAcC,YAAY5B,EAAEuB,KAC1BvB,GAEXiB,EAAawB,UAAUsB,MAAQ,WAC3BpE,KAAKwB,qBACLxB,KAAK0B,SAETJ,EAAawB,UAAUuB,OAAS,WAC5B,IAAIC,EAAWzC,SAASC,cAAc,OAQtC,OAPAwC,EAASC,MAAMC,MAAQ,OACvBF,EAASC,MAAME,QAAU,MACzBH,EAASC,MAAMG,gBAAkB,UACjC1E,KAAK0B,KAAK+B,QAAQ,SAAUpD,GACxBiE,EAASrC,YAAY5B,EAAEgE,YAGpB,2DAAiEC,EAASK,UAAY,kBAGjGrD,EAAawB,UAAU8B,WAAa,WAChC,OACIlD,KAAM1B,KAAK0B,KAAKmD,IAAI,SAAUxE,GAC1B,OAAOA,EAAEuE,iBAIrBtD,EAAawB,UAAUgC,OAAS,SAAUC,GACtC,IAAI9B,EAAQjD,KACZA,KAAK0B,KAAOqD,EAAOrD,KAAKmD,IAAI,SAAUxE,GAClC,IAAI2E,EAAM,IAAI3D,EAAY8C,UAAUlB,GAEpC,OADA+B,EAAIF,OAAOzE,GACJ2E,KAGf1D,EAAawB,UAAUmC,YAAc,WACjC,OAAOjF,KAAKwB,mBAEhBF,EAAawB,UAAUoC,iBAAmB,WACtC,OAAOlF,KAAKuB,eAEhBD,EAAawB,UAAUqC,WAAa,WAChC,OAAOnF,KAAKyB,uBAETH,KAEX7B,EAAQ6B,aAAeA,IAIpB8D,cAAc,IAAIC,GAAG,SAAS3E,EAAQhB,EAAOD,GAChD,aACAyB,OAAOC,eAAe1B,EAAS,cAAgB2B,OAAO,IACtD,IAAIkE,EAAgB,WAChB,SAASA,EAAaC,GAClB,IAAIxF,EAAOC,KACXA,KAAK4B,IAAMC,SAASC,cAAc,OAClC9B,KAAKwF,YAAc3D,SAASC,cAAc,OAE1C,IAAI2D,EAAU5D,SAASC,cAAc,SACrC2D,EAAQ1D,UAAY,UACpB0D,EAAQC,KAAO,SACfD,EAAQE,IAAM,IACdF,EAAQG,IAAM,IACdH,EAAQrE,MAAQ,IAChBqE,EAAQtD,iBAAiB,SAAU,WAC/B,IAAI0D,EAASC,SAASL,EAAQrE,MAAO,IAAK2E,GAAO,GAAKF,GAAQG,WAC9DjG,EAAKkG,IAAMJ,EACX9F,EAAK6B,IAAI2C,MAAM2B,KAAOH,EAAM,IAAMA,EAAM,UAE5C/F,KAAK4B,IAAIK,YAAYwD,GACrBzF,KAAK4B,IAAIG,UAAY,SACrB/B,KAAKuF,GAAKA,EACVvF,KAAK4B,IAAIO,iBAAiB,QAAS,SAAUgE,GACrCA,EAAIC,SAAWrG,EAAK6B,KAExB7B,EAAKwF,GAAGxC,UAAUhD,KAGtB,IAAIsG,EAAoBxE,SAASC,cAAc,OAC/CuE,EAAkBtE,UAAY,uBAC9BsE,EAAkBlE,iBAAiB,QAAS,WAGxC,GAFcpC,EAAK6B,IAAI0E,cACDC,uBAAuB,UACjCvF,OAAS,EAAG,CACpB,GAAIjB,EAAKmD,YAAa,CAClB,IAAIC,EAAMpD,EAAKmD,YACfqC,EAAGN,cAAc7B,KAAKD,GAE1BpD,EAAK6B,IAAIa,SACT4D,EAAkB5D,YAG1BzC,KAAK4B,IAAIK,YAAYoE,GAmDzB,OAjDAf,EAAaxC,UAAU0D,QAAU,WAC7BxG,KAAK4B,IAAM,MAEf0D,EAAaxC,UAAUI,UAAY,WAC/B,OAAOlD,KAAKmD,KAEhBmC,EAAaxC,UAAUU,aAAe,WAClCxD,KAAKmD,IAAM,KACXnD,KAAKwF,YAAYjC,YAAc,IAGnC+B,EAAaxC,UAAUa,UAAY,SAAUR,GACzCnD,KAAKwF,YAAYzD,UAAY,iBACzBoB,IACAnD,KAAKmD,IAAMA,EACXnD,KAAKwF,YAAYjC,YAAcJ,EAAIO,GAAGsC,WACtChG,KAAK4B,IAAIK,YAAYjC,KAAKwF,eAGlCF,EAAaxC,UAAUuB,OAAS,WAC5B,IAAIoC,EAAU5E,SAASC,cAAc,OACjC4E,EAAY7E,SAASC,cAAc,OAMvC,OALA4E,EAAUpE,UAAUC,IAAI,uBACxBkE,EAAQ1E,UAAY,0BACpB0E,EAAQxE,YAAYyE,GACpBA,EAAUzE,YAAYjC,KAAKmD,IAAIkB,UAC/BoC,EAAQlC,MAAM2B,KAAOlG,KAAKiG,IAAM,IAAMjG,KAAKiG,IAAM,OAC1CQ,GAGXnB,EAAaxC,UAAU8B,WAAa,WAEhC,IAAI+B,GACAC,MAAO,KACPX,IAAKjG,KAAKiG,KAKd,OAHIjG,KAAKmD,MACLwD,EAAQC,MAAQ5G,KAAKmD,IAAIO,IAEtBiD,GAEXrB,EAAaxC,UAAU+D,OAAS,SAAUZ,GACtCjG,KAAKiG,IAAMA,EACXjG,KAAK4B,IAAI2C,MAAM2B,KAAOD,EAAM,IAAMA,EAAM,QAE5CX,EAAaxC,UAAUgC,OAAS,SAAUC,GACtC/E,KAAK6G,OAAO9B,EAAOkB,KACnBjG,KAAK2D,UAAU3D,KAAKuF,GAAGJ,aAAa2B,OAAO,SAAU5G,GAAK,OAAOA,EAAEwD,KAAOqB,EAAO6B,QAAU,KAExFtB,KAEX7F,EAAQ6F,aAAeA,OAIjByB,GAAG,SAASrG,EAAQhB,EAAOD,GACjC,aACAyB,OAAOC,eAAe1B,EAAS,cAAgB2B,OAAO,IACtD,IAAI4F,EAAiBtG,EAAQ,kBACzByD,EAAa,WACb,SAASA,EAAUoB,GACf,IAAIxF,EAAOC,KACXA,KAAK4B,IAAMC,SAASC,cAAc,OAClC9B,KAAK4B,IAAIG,UAAY,MAErB,IAAIkF,EAAoBpF,SAASC,cAAc,OAC/CmF,EAAkBlF,UAAY,oBAC9BkF,EAAkB9E,iBAAiB,QAAS,WAGxC,IAAK,IAFD+E,EAAgBnH,EAAK6B,IAAIuF,SACzBC,EAAQ,EACHzG,EAAI,EAAGA,EAAIuG,EAAclG,OAAQL,IACH,WAA/BuG,EAAcvG,GAAGoB,YACjBqF,GAAS,GAGbA,EAAQ7B,EAAGL,oBACXnF,EAAKsH,cAGbrH,KAAK4B,IAAIK,YAAYgF,GAErB,IAAIK,EAAiBzF,SAASC,cAAc,OAC5CwF,EAAevF,UAAY,oBAC3BuF,EAAenF,iBAAiB,QAAS,WACvBpC,EAAKiE,YACXP,QAAQ,SAAUQ,GAClBA,EAAEf,aACFqC,EAAGN,cAAc7B,KAAKa,EAAEf,eAGhCnD,EAAK6B,IAAIa,SACT6E,EAAe7E,WAEnBzC,KAAK4B,IAAIK,YAAYqF,GACrBtH,KAAKuH,QAAU,IAAIC,MACnBxH,KAAKuF,GAAKA,EAEVvF,KAAKqH,YA2CT,OAzCAlD,EAAUrB,UAAUkB,UAAY,WAC5B,OAAOhE,KAAKuH,SAEhBpD,EAAUrB,UAAUuE,UAAY,WAC5B,IAAIpD,EAAI,IAAI+C,EAAe1B,aAAatF,KAAKuF,IAG7C,OAFAvF,KAAKuH,QAAQnE,KAAKa,GAClBjE,KAAK4B,IAAIK,YAAYgC,EAAErC,KAChBqC,GAEXE,EAAUrB,UAAU0D,QAAU,WAC1B,IAAIzG,EAAOC,KACXA,KAAKuH,QAAQ9D,QAAQ,SAAUQ,GAC3BlE,EAAK6B,IAAI6F,YAAYxD,EAAErC,KACvBqC,EAAEuC,YAENxG,KAAKuH,YAETpD,EAAUrB,UAAUuB,OAAS,WACzB,IAAIqD,EAAU7F,SAASC,cAAc,OAKrC,OAJA4F,EAAQ3F,UAAY,+BACpB/B,KAAKuH,QAAQ9D,QAAQ,SAAUQ,GAC3ByD,EAAQzF,YAAYgC,EAAEI,YAEnBqD,GAGXvD,EAAUrB,UAAU8B,WAAa,WAC7B,OACI2C,QAASvH,KAAKuH,QAAQ1C,IAAI,SAAUZ,GAChC,OAAOA,EAAEW,iBAIrBT,EAAUrB,UAAUgC,OAAS,SAAUC,GACnC,IAAI9B,EAAQjD,KACZA,KAAKuH,QAAUxC,EAAOwC,QAAQ1C,IAAI,SAAUZ,GACxC,IAAIjB,EAAM,IAAIgE,EAAe1B,aAAarC,EAAMsC,IAEhD,OADAvC,EAAI8B,OAAOb,GACJjB,KAGRmB,KAEX1E,EAAQ0E,UAAYA,IAIjBwD,iBAAiB,SAAS,IAAI","file":"entitylayout.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.entitylayout = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar layoutRow_1 = require(\"./layoutRow\");\nvar EntityLayout = (function () {\n    function EntityLayout(numberColumns) {\n        var self = this;\n        this.availableEntities = [];\n        this.copyAvailableEntities = [];\n        this.rows = [];\n        this.currentColumn = null;\n        this.numberColumns = numberColumns;\n        this.div = document.createElement(\"div\");\n        this.div.className = \"entity-layout\";\n        this.div_container = document.createElement(\"div\");\n        this.div_container.className = \"content-rows\";\n        this.div.appendChild(this.div_container);\n        // Button Add rows\n        var add_row_btn = document.createElement(\"div\");\n        add_row_btn.className = \"button-add-row\";\n        add_row_btn.addEventListener(\"click\", function () {\n            self.addRow();\n        });\n        this.div_container.appendChild(add_row_btn);\n        this.popup = document.createElement(\"div\");\n        this.popup.classList.add(\"EL-popup\");\n        var popupLayer = document.createElement(\"div\");\n        popupLayer.classList.add(\"layer\");\n        popupLayer.addEventListener(\"click\", function () {\n            self.popup.classList.remove(\"visible\");\n        });\n        var popupContent = document.createElement(\"div\");\n        popupContent.classList.add(\"content\");\n        var popupWraper = document.createElement(\"div\");\n        popupWraper.classList.add(\"wraper\");\n        var popupSelectArea = document.createElement(\"div\");\n        popupSelectArea.classList.add(\"selectArea\");\n        this.popupSelectArea = popupSelectArea;\n        this.popup.appendChild(popupLayer);\n        this.popup.appendChild(popupWraper);\n        popupWraper.appendChild(popupContent);\n        popupContent.appendChild(this.popupSelectArea);\n        document.body.appendChild(this.popup);\n    }\n    EntityLayout.prototype.openPopup = function (col) {\n        var _this = this;\n        var self = this;\n        this.currentColumn = col;\n        if (this.currentColumn.getEntity()) {\n            var ent = this.currentColumn.getEntity();\n            this.availableEntities.push(ent);\n        }\n        this.popupSelectArea.innerHTML = \"\";\n        var popupOption = document.createElement(\"div\");\n        popupOption.className = \"options-entity\";\n        popupOption.textContent = \"Delete entity...\";\n        popupOption.classList.add(\"delete\");\n        popupOption.addEventListener(\"click\", function () {\n            self.currentColumn.deleteEntity();\n            self.popup.classList.remove(\"visible\");\n        });\n        this.popupSelectArea.appendChild(popupOption);\n        this.availableEntities.forEach(function (ent) {\n            var popupOption = document.createElement(\"div\");\n            popupOption.className = \"options-entity\";\n            popupOption.textContent = ent.id;\n            popupOption.addEventListener(\"click\", function () {\n                if (self.currentColumn !== null) {\n                    self.currentColumn.setEntity(ent);\n                    self.copyAvailableEntities.push(ent);\n                    self.availableEntities.splice(self.availableEntities.indexOf(ent), 1);\n                }\n                self.popup.classList.remove(\"visible\");\n            });\n            _this.popupSelectArea.appendChild(popupOption);\n        });\n        this.popup.classList.add(\"visible\");\n    };\n    EntityLayout.prototype.addEntities = function (ents) {\n        this.rows.forEach(function (r) {\n            var columns = r.getColumn();\n            columns.forEach(function (c) {\n                if (c.getEntity()) {\n                    var found = ents.some(function (ent) {\n                        return c.getEntity().id === ent.id;\n                    });\n                    if (!found) {\n                        c.deleteEntity();\n                    }\n                }\n            });\n        });\n        var self = this;\n        self.availableEntities = ents;\n    };\n    EntityLayout.prototype.addRow = function () {\n        var r = new layoutRow_1.LayoutRow(this);\n        this.rows.push(r);\n        this.div_container.appendChild(r.div);\n        return r;\n    };\n    EntityLayout.prototype.clear = function () {\n        this.availableEntities = [];\n        this.rows = [];\n    };\n    EntityLayout.prototype.render = function () {\n        var div_rows = document.createElement(\"div\");\n        div_rows.style.width = \"21cm\";\n        div_rows.style.padding = \"1cm\";\n        div_rows.style.backgroundColor = \"#bebebe\";\n        this.rows.forEach(function (r) {\n            div_rows.appendChild(r.render());\n        });\n        // Cambiar!!\n        return \"<html><head><style type=\\\"text/css\\\"><\\/style><\\/head><body>\" + div_rows.outerHTML + \"<\\/body><\\/html>\";\n    };\n    ;\n    EntityLayout.prototype.serializer = function () {\n        return {\n            rows: this.rows.map(function (r) {\n                return r.serializer();\n            })\n        };\n    };\n    EntityLayout.prototype.parser = function (object) {\n        var _this = this;\n        this.rows = object.rows.map(function (r) {\n            var row = new layoutRow_1.LayoutRow(_this);\n            row.parser(r);\n            return row;\n        });\n    };\n    EntityLayout.prototype.getEntities = function () {\n        return this.availableEntities;\n    };\n    EntityLayout.prototype.getNumberColumns = function () {\n        return this.numberColumns;\n    };\n    EntityLayout.prototype.get_entity = function () {\n        return this.copyAvailableEntities;\n    };\n    return EntityLayout;\n}());\nexports.EntityLayout = EntityLayout;\n\n\n\n},{\"./layoutRow\":3}],2:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LayoutColumn = (function () {\n    function LayoutColumn(el) {\n        var self = this;\n        this.div = document.createElement(\"div\");\n        this.div_content = document.createElement(\"div\");\n        // Dimensions flex\n        var div_dim = document.createElement(\"input\");\n        div_dim.className = \"dim-col\";\n        div_dim.type = \"number\";\n        div_dim.max = \"5\";\n        div_dim.min = \"1\";\n        div_dim.value = \"1\";\n        div_dim.addEventListener(\"change\", function () {\n            var rawVal = parseInt(div_dim.value, 10), val = (10 + rawVal).toString();\n            self.dim = rawVal;\n            self.div.style.flex = val + \" \" + val + \" auto\";\n        });\n        this.div.appendChild(div_dim);\n        this.div.className = \"column\";\n        this.el = el;\n        this.div.addEventListener(\"click\", function (evt) {\n            if (evt.target !== self.div)\n                return;\n            self.el.openPopup(self);\n        });\n        // Button Delete Columns\n        var remove_column_btn = document.createElement(\"div\");\n        remove_column_btn.className = \"button-remove-column\";\n        remove_column_btn.addEventListener(\"click\", function () {\n            var row_div = self.div.parentElement;\n            var element = row_div.getElementsByClassName(\"column\");\n            if (element.length > 1) {\n                if (self.getEntity()) {\n                    var ent = self.getEntity();\n                    el.getEntities().push(ent);\n                }\n                self.div.remove();\n                remove_column_btn.remove();\n            }\n        });\n        this.div.appendChild(remove_column_btn);\n    }\n    LayoutColumn.prototype.destroy = function () {\n        this.div = null;\n    };\n    LayoutColumn.prototype.getEntity = function () {\n        return this.ent;\n    };\n    LayoutColumn.prototype.deleteEntity = function () {\n        this.ent = null;\n        this.div_content.textContent = \"\";\n        // this.div.textContent = \"\";\n    };\n    LayoutColumn.prototype.setEntity = function (ent) {\n        this.div_content.className = \"content-column\";\n        if (ent) {\n            this.ent = ent;\n            this.div_content.textContent = ent.id.toString();\n            this.div.appendChild(this.div_content);\n        }\n    };\n    LayoutColumn.prototype.render = function () {\n        var div_rep = document.createElement(\"div\");\n        var div_inner = document.createElement(\"div\");\n        div_inner.classList.add(\"sledge-hammer-inner\");\n        div_rep.className = \"flexChild sledge-hammer\";\n        div_rep.appendChild(div_inner);\n        div_inner.appendChild(this.ent.render());\n        div_rep.style.flex = this.dim + \" \" + this.dim + \" \" + \"0px\";\n        return div_rep;\n    };\n    ;\n    LayoutColumn.prototype.serializer = function () {\n        // Falta el render!!!\n        var colprop = {\n            entID: null,\n            dim: this.dim\n        };\n        if (this.ent) {\n            colprop.entID = this.ent.id;\n        }\n        return colprop;\n    };\n    LayoutColumn.prototype.setDim = function (dim) {\n        this.dim = dim;\n        this.div.style.flex = dim + \" \" + dim + \"auto\";\n    };\n    LayoutColumn.prototype.parser = function (object) {\n        this.setDim(object.dim);\n        this.setEntity(this.el.get_entity().filter(function (e) { return e.id === object.entID; })[0]);\n    };\n    return LayoutColumn;\n}());\nexports.LayoutColumn = LayoutColumn;\n\n\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar layoutColumn_1 = require(\"./layoutColumn\");\nvar LayoutRow = (function () {\n    function LayoutRow(el) {\n        var self = this;\n        this.div = document.createElement(\"div\");\n        this.div.className = \"row\";\n        // Button Add Columns\n        var div_addColumn_btn = document.createElement(\"div\");\n        div_addColumn_btn.className = \"button-add-column\";\n        div_addColumn_btn.addEventListener(\"click\", function () {\n            var childrensRows = self.div.children;\n            var count = 0;\n            for (var i = 0; i < childrensRows.length; i++) {\n                if (childrensRows[i].className === \"column\") {\n                    count += 1;\n                }\n            }\n            if (count < el.getNumberColumns()) {\n                self.addColumn();\n            }\n        });\n        this.div.appendChild(div_addColumn_btn);\n        // Button Delete rows\n        var remove_row_btn = document.createElement(\"div\");\n        remove_row_btn.className = \"button-remove-row\";\n        remove_row_btn.addEventListener(\"click\", function () {\n            var columns = self.getColumn();\n            columns.forEach(function (c) {\n                if (c.getEntity()) {\n                    el.getEntities().push(c.getEntity());\n                }\n            });\n            self.div.remove();\n            remove_row_btn.remove();\n        });\n        this.div.appendChild(remove_row_btn);\n        this.columns = new Array();\n        this.el = el;\n        // Per defecte tenim una columna\n        this.addColumn();\n    }\n    LayoutRow.prototype.getColumn = function () {\n        return this.columns;\n    };\n    LayoutRow.prototype.addColumn = function () {\n        var c = new layoutColumn_1.LayoutColumn(this.el);\n        this.columns.push(c);\n        this.div.appendChild(c.div);\n        return c;\n    };\n    LayoutRow.prototype.destroy = function () {\n        var self = this;\n        this.columns.forEach(function (c) {\n            self.div.removeChild(c.div);\n            c.destroy();\n        });\n        this.columns = [];\n    };\n    LayoutRow.prototype.render = function () {\n        var div_row = document.createElement(\"div\");\n        div_row.className = \"flexRoot rowParent flexChild\";\n        this.columns.forEach(function (c) {\n            div_row.appendChild(c.render());\n        });\n        return div_row;\n    };\n    ;\n    LayoutRow.prototype.serializer = function () {\n        return {\n            columns: this.columns.map(function (c) {\n                return c.serializer();\n            })\n        };\n    };\n    LayoutRow.prototype.parser = function (object) {\n        var _this = this;\n        this.columns = object.columns.map(function (c) {\n            var col = new layoutColumn_1.LayoutColumn(_this.el);\n            col.parser(c);\n            return col;\n        });\n    };\n    return LayoutRow;\n}());\nexports.LayoutRow = LayoutRow;\n\n\n\n},{\"./layoutColumn\":2}]},{},[1])(1)\n});"]}