{"version":3,"sources":["entitylayout.min.js"],"names":["f","exports","module","define","amd","window","global","self","this","entitylayout","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","Object","defineProperty","value","layoutRow_1","EntityLayout","availableEntities","rows","currentColumn","div","document","createElement","className","popup","popupSelectArea","prototype","openPopup","col","classList","remove","add","popupLayer","popupContent","popupWraper","appendChild","body","addEntities","ents","_this","forEach","ent","push","popupOption","textContent","id","addEventListener","setEntity","addRow","LayoutRow","clear","render","div_rows","style","width","padding","backgroundColor","outerHTML","./layoutRow","2","LayoutColumn","el","destroy","getEntity","deleteEntity","div_rep","div_inner","3","layoutColumn_1","columns","Array","addColumn","c","removeChild","div_row","./layoutColumn"],"mappings":"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","file":"entitylayout.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.entitylayout = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar layoutRow_1 = require(\"./layoutRow\");\nvar EntityLayout = (function () {\n    function EntityLayout() {\n        this.availableEntities = [];\n        this.rows = [];\n        this.currentColumn = null;\n        this.div = document.createElement(\"div\");\n        this.div.className = \"entity-layout\";\n        this.popup = document.createElement(\"div\");\n        this.popupSelectArea = document.createElement(\"select\");\n    }\n    EntityLayout.prototype.openPopup = function (col) {\n        this.currentColumn = col;\n        this.popup.classList.remove(\"visible\");\n        this.popup.classList.add(\"EL-popup\");\n        var popupLayer = document.createElement(\"div\");\n        popupLayer.classList.add(\"layer\");\n        var popupContent = document.createElement(\"div\");\n        popupContent.classList.add(\"content\");\n        var popupWraper = document.createElement(\"div\");\n        popupWraper.classList.add(\"wraper\");\n        var popupSelectArea = document.createElement(\"select\");\n        this.popupSelectArea = popupSelectArea;\n        this.popup.appendChild(popupLayer);\n        this.popup.appendChild(popupWraper);\n        popupWraper.appendChild(popupContent);\n        popupContent.appendChild(popupSelectArea);\n        document.body.appendChild(this.popup);\n    };\n    EntityLayout.prototype.addEntities = function (ents) {\n        var _this = this;\n        var self = this;\n        ents.forEach(function (ent) {\n            _this.availableEntities.push(ent);\n            var popupOption = document.createElement(\"option\");\n            popupOption.textContent = ent.id;\n            popupOption.addEventListener(\"click\", function () {\n                if (self.currentColumn !== null) {\n                    self.currentColumn.setEntity(ent);\n                }\n                self.popup.classList.remove(\"visible\");\n            });\n            _this.popupSelectArea.appendChild(popupOption);\n        });\n        this.availableEntities = ents;\n    };\n    EntityLayout.prototype.addRow = function () {\n        var r = new layoutRow_1.LayoutRow(this);\n        this.rows.push(r);\n        this.div.appendChild(r.div);\n        return r;\n    };\n    EntityLayout.prototype.clear = function () {\n        this.availableEntities = [];\n        this.rows = [];\n    };\n    EntityLayout.prototype.render = function () {\n        var div_rows = document.createElement(\"div\");\n        div_rows.style.width = \"21cm\";\n        div_rows.style.padding = \"1cm\";\n        div_rows.style.backgroundColor = \"#bebebe\";\n        this.rows.forEach(function (r) {\n            div_rows.appendChild(r.render());\n        });\n        // Cambiar!!\n        return \"<html><head><style type=\\\"text/css\\\"><\\/style><\\/head><body>\" + div_rows.outerHTML + \"<\\/body><\\/html>\";\n    };\n    ;\n    return EntityLayout;\n}());\nexports.EntityLayout = EntityLayout;\n\n\n\n},{\"./layoutRow\":3}],2:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LayoutColumn = (function () {\n    function LayoutColumn(el) {\n        var self = this;\n        this.div = document.createElement(\"div\");\n        this.div.className = \"column\";\n        this.el = el;\n        this.div.addEventListener(\"click\", function () {\n            self.el.openPopup(self);\n        });\n    }\n    LayoutColumn.prototype.destroy = function () {\n        this.div = null;\n    };\n    LayoutColumn.prototype.getEntity = function () {\n        return this.ent;\n    };\n    LayoutColumn.prototype.deleteEntity = function () {\n        this.ent = null;\n    };\n    LayoutColumn.prototype.setEntity = function (ent) {\n        this.ent = ent;\n    };\n    LayoutColumn.prototype.render = function () {\n        var div_rep = document.createElement(\"div\");\n        var div_inner = document.createElement(\"div\");\n        div_inner.classList.add(\"sledge-hammer-inner\");\n        div_rep.className = \"flexChild sledge-hammer\";\n        div_rep.appendChild(div_inner);\n        div_inner.appendChild(this.ent.render());\n        // div_rep.style.flex = this.dim + \" \" + this.dim + \" \" +  \"0px\";\n        return div_rep;\n    };\n    ;\n    return LayoutColumn;\n}());\nexports.LayoutColumn = LayoutColumn;\n\n\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar layoutColumn_1 = require(\"./layoutColumn\");\nvar LayoutRow = (function () {\n    function LayoutRow(el) {\n        this.div = document.createElement(\"div\");\n        this.div.className = \"row\";\n        this.columns = new Array();\n        this.el = el;\n        // Per defecte tenim una columna\n        this.addColumn();\n    }\n    LayoutRow.prototype.addColumn = function () {\n        var c = new layoutColumn_1.LayoutColumn(this.el);\n        this.columns.push(c);\n        this.div.appendChild(c.div);\n        return c;\n    };\n    LayoutRow.prototype.destroy = function () {\n        var self = this;\n        this.columns.forEach(function (c) {\n            self.div.removeChild(c.div);\n            c.destroy();\n        });\n        this.columns = [];\n    };\n    LayoutRow.prototype.render = function () {\n        var div_row = document.createElement(\"div\");\n        div_row.className = \"flexRoot rowParent flexChild\";\n        this.columns.forEach(function (c) {\n            div_row.appendChild(c.render());\n        });\n        return div_row;\n    };\n    ;\n    return LayoutRow;\n}());\nexports.LayoutRow = LayoutRow;\n\n\n\n},{\"./layoutColumn\":2}]},{},[1])(1)\n});"]}