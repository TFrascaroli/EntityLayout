{"version":3,"sources":["layoutRow.ts"],"names":[],"mappings":"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","file":"layoutRow.js","sourcesContent":["import {LayoutColumn} from \"./layoutColumn\";\r\nimport {EntityLayout} from \"./entityLayout\";\r\n\r\ninterface ILayoutRow {\r\n    columns: Array<LayoutColumn>;\r\n}\r\n\r\n\r\nexport class LayoutRow {\r\n    \r\n    private columns: Array<LayoutColumn>;\r\n    public div: HTMLDivElement;\r\n    private el: EntityLayout;\r\n    \r\n    constructor(el: EntityLayout) {\r\n        let self = this;\r\n        this.div = document.createElement(\"div\");\r\n        this.div.className = \"row\";\r\n\r\n        // Button Add Columns\r\n        let div_addColumn_btn = document.createElement(\"div\");\r\n        div_addColumn_btn.className = \"button-add-column\";\r\n        div_addColumn_btn.addEventListener(\"click\", function(){\r\n            let childrensRows = self.div.children;\r\n            let count = 0;\r\n            for (let i = 0; i < childrensRows.length; i++) {\r\n                if (childrensRows[i].className === \"column\") {\r\n                    count += 1;\r\n                }\r\n            }\r\n            if (count < el.getNumberColumns()) {\r\n                self.addColumn();\r\n            }\r\n        });\r\n        this.div.appendChild(div_addColumn_btn);\r\n\r\n        // Button Delete rows\r\n        let remove_row_btn = document.createElement(\"div\");\r\n        remove_row_btn.className = \"button-remove-row\";\r\n        remove_row_btn.addEventListener(\"click\",function(){\r\n            let columns = self.getColumn();\r\n            columns.forEach(c =>{\r\n                if (c.getEntity()) {\r\n                    el.getEntities().push(c.getEntity());\r\n                    \r\n                }\r\n            })\r\n            self.div.remove();\r\n            remove_row_btn.remove();\r\n        });\r\n        this.div.appendChild(remove_row_btn);\r\n        this.columns = new Array<LayoutColumn>();\r\n        this.el = el;\r\n        // Per defecte tenim una columna\r\n        this.addColumn();\r\n    }\r\n\r\n    getColumn(){\r\n        return this.columns;\r\n    }\r\n\r\n    addColumn() {\r\n        let c = new LayoutColumn(this.el);\r\n        this.columns.push(c);\r\n        this.div.appendChild(c.div);\r\n        return c;\r\n    }\r\n\r\n    destroy() {\r\n        var self = this;\r\n        this.columns.forEach(function (c) {\r\n            self.div.removeChild(c.div);\r\n            c.destroy();\r\n        });\r\n        this.columns = [];\r\n    }\r\n\r\n    render(): HTMLDivElement {\r\n        let div_row = document.createElement(\"div\");\r\n        div_row.className = \"flexRoot rowParent flexChild\";\r\n        this.columns.forEach(c => {\r\n            div_row.appendChild(c.render());\r\n        });\r\n        return div_row;\r\n    };\r\n\r\n    serializer() {\r\n        let propCol = [];\r\n\r\n        this.columns.forEach(c =>{\r\n                return propCol.push(c.serializer());\r\n        });\r\n\r\n        let prop = {\r\n            columns: propCol\r\n        }\r\n        return prop;\r\n        \r\n    }\r\n    parser(object: ILayoutRow) {\r\n        this.columns = object.columns;\r\n    }\r\n}"]}